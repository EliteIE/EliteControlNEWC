"use strict";(self.webpackChunkcloudcontrol=self.webpackChunkcloudcontrol||[]).push([[837],{837:function(e,o,t){async function l(e,o){const t=document.getElementById("kpiGrid");if(!t)return;let l=[];try{if("geral"===e){const[e,t,i]=await Promise.all([o.collection("sales").get(),o.collection("customers").get(),o.collection("products").get()]),a=e.size,c=e.docs.reduce(((e,o)=>e+(o.data().total||0)),0),n=t.size,s=i.size;l=[{icon:"fa-dollar-sign",title:"Receita Total",value:`R$ ${c.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,color:"green"},{icon:"fa-shopping-cart",title:"Total de Vendas",value:a,color:"blue"},{icon:"fa-users",title:"Total de Clientes",value:n,color:"purple"},{icon:"fa-box",title:"Produtos em Estoque",value:s,color:"orange"}]}else if("vendas-painel"===e){const e=new Date;e.setHours(0,0,0,0);const t=await o.collection("sales").where("date",">=",e).get();t.size,l=[{icon:"fa-dollar-sign",title:"Vendas Hoje",value:`R$ ${t.docs.reduce(((e,o)=>e+(o.data().total||0)),0).toLocaleString("pt-BR",{minimumFractionDigits:2})}`,color:"green"},{icon:"fa-percentage",title:"Comissão",value:"R$ 0,00",color:"blue"},{icon:"fa-trophy",title:"Meta Mensal",value:"N/A",color:"yellow"},{icon:"fa-chart-line",title:"Tendência",value:"N/A",color:"purple"}]}else if("estoque"===e){l=[{icon:"fa-boxes",title:"Total de Produtos",value:(await o.collection("products").get()).size,color:"blue"},{icon:"fa-exclamation-triangle",title:"Estoque Baixo",value:"N/A",color:"red"},{icon:"fa-check-circle",title:"Em Estoque",value:"N/A",color:"green"},{icon:"fa-tags",title:"Categorias",value:"N/A",color:"purple"}]}}catch(e){l=[{icon:"fa-exclamation-triangle",title:"Erro ao carregar KPIs",value:"",color:"red"}]}t.innerHTML=l.map((e=>`\n        <div class="kpi-card">\n            <div class="kpi-icon ${e.color}">\n                <i class="fas ${e.icon}"></i>\n            </div>\n            <div class="kpi-content">\n                <h4 class="kpi-title">${e.title}</h4>\n                <p class="kpi-value">${e.value}</p>\n            </div>\n        </div>\n    `)).join("")}t.d(o,{loadKPIs:function(){return l}})}}]);